<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>漂自己的移，让别人都撞墙去吧</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.gagahappy.com/"/>
  <updated>2017-07-05T11:03:14.000Z</updated>
  <id>http://www.gagahappy.com/</id>
  
  <author>
    <name>戛戛Happy</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>deploy with mina</title>
    <link href="http://www.gagahappy.com/deploy-with-mina/"/>
    <id>http://www.gagahappy.com/deploy-with-mina/</id>
    <published>2017-07-05T10:51:15.000Z</published>
    <updated>2017-07-05T11:03:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>博客使用mina部署了，之前从编写到发布要打好几命令，而且还要登录的EC2上，执行的命令比较多</p>
<p>有以下几个问题</p>
<ul>
<li>每次发布产生的新版本<code>./release/xxx</code>，文件的生成时间更新为当前时间</li>
<li>这造成了每次向S3同步的时候，都会同步所有文件，因为本地文件的时间戳已经改变，这样会使本来没有发生更改的文件也会被再次同步一次，浪费了拉取数据的次数</li>
</ul>
]]></content>
    
    <summary type="html">
    
      deploy with mina
    
    </summary>
    
      <category term="程序开发" scheme="http://www.gagahappy.com/category/development/"/>
    
    
      <category term="s3" scheme="http://www.gagahappy.com/tag/s3/"/>
    
  </entry>
  
  <entry>
    <title>mina 部署配置</title>
    <link href="http://www.gagahappy.com/mina-deploy-config/"/>
    <id>http://www.gagahappy.com/mina-deploy-config/</id>
    <published>2017-07-05T08:20:09.000Z</published>
    <updated>2017-07-05T08:47:02.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">require</span> <span class="string">'mina/rails'</span></div><div class="line"><span class="keyword">require</span> <span class="string">'mina/git'</span></div><div class="line"><span class="comment"># require 'mina/rbenv'  # for rbenv support. (https://rbenv.org)</span></div><div class="line"><span class="comment"># require 'mina/rvm'    # for rvm support. (https://rvm.io)</span></div><div class="line"></div><div class="line"><span class="comment"># Basic settings:</span></div><div class="line"><span class="comment">#   domain       - The hostname to SSH to.</span></div><div class="line"><span class="comment">#   deploy_to    - Path to deploy into.</span></div><div class="line"><span class="comment">#   repository   - Git repo to clone from. (needed by mina/git)</span></div><div class="line"><span class="comment">#   branch       - Branch name to deploy. (needed by mina/git)</span></div><div class="line"></div><div class="line">set <span class="symbol">:application_name</span>, <span class="string">'yourapp'</span></div><div class="line">set <span class="symbol">:domain</span>, <span class="string">'hostname'</span></div><div class="line">set <span class="symbol">:deploy_to</span>, <span class="string">'deploy_path'</span></div><div class="line">set <span class="symbol">:repository</span>, <span class="string">'git@...'</span></div><div class="line">set <span class="symbol">:branch</span>, <span class="string">'master'</span></div><div class="line"></div><div class="line"><span class="comment"># Optional settings:</span></div><div class="line">  <span class="comment"># set :user, 'Username'          # Username in the server to SSH to.</span></div><div class="line">  <span class="comment"># set :forward_agent, true     # SSH forward_agent.</span></div><div class="line">  <span class="comment"># set :port, '30000'           # SSH port number.</span></div><div class="line"></div><div class="line"><span class="comment"># shared dirs and files will be symlinked into the app-folder by the 'deploy:link_shared_paths' step.</span></div><div class="line"></div><div class="line"><span class="comment"># set :shared_dirs, fetch(:shared_dirs, []).push('somedir')</span></div><div class="line"></div><div class="line"><span class="comment"># 要保证项目文件夹里有config文件夹，否则不能建立ln目标文件</span></div><div class="line"><span class="comment"># set :shared_files, fetch(:shared_files, []).push('config/database.yml', 'config/secrets.yml')</span></div><div class="line"></div><div class="line"><span class="comment"># This task is the environment that is loaded for all remote run commands, such as</span></div><div class="line"><span class="comment"># `mina deploy` or `mina rake`.</span></div><div class="line">task <span class="symbol">:environment</span> <span class="keyword">do</span></div><div class="line">  <span class="comment"># If you're using rbenv, use this to load the rbenv environment.</span></div><div class="line">  <span class="comment"># Be sure to commit your .ruby-version or .rbenv-version to your repository.</span></div><div class="line">  <span class="comment"># invoke :'rbenv:load'</span></div><div class="line"></div><div class="line">  <span class="comment"># For those using RVM, use this to load an RVM version<span class="doctag">@gemset</span>.</span></div><div class="line">  <span class="comment"># invoke :'rvm:use', 'ruby-2.2.4<span class="doctag">@default</span>'</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="comment"># Put any custom commands you need to run at setup</span></div><div class="line"><span class="comment"># All paths in `shared_dirs` and `shared_paths` will be created on their own.</span></div><div class="line">task <span class="symbol">:setup</span> <span class="keyword">do</span></div><div class="line">  <span class="comment"># command %&#123;rbenv install 2.3.0&#125;</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">desc <span class="string">"Deploys the current version to the server."</span></div><div class="line">task <span class="symbol">:deploy</span> <span class="keyword">do</span></div><div class="line">  <span class="comment"># uncomment this line to make sure you pushed your local branch to the remote origin</span></div><div class="line">  <span class="comment"># invoke :'git:ensure_pushed'</span></div><div class="line"></div><div class="line">  <span class="comment"># 自定义本地要执行的任务 :local/:remote</span></div><div class="line">  run(<span class="symbol">:local</span>) <span class="keyword">do</span></div><div class="line">    invoke <span class="symbol">:<span class="string">'hexo:generate'</span></span></div><div class="line">    invoke <span class="symbol">:<span class="string">'hexo:deploy'</span></span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># 加入本地ssh-key到ssh-add代理，以便远程主机有权限拉取代码</span></div><div class="line">  run(<span class="symbol">:local</span>) <span class="keyword">do</span></div><div class="line">    command <span class="string">%&#123; ssh-add ~/.ssh/id_rsa&#125;</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line"></div><div class="line">  deploy <span class="keyword">do</span></div><div class="line">    <span class="comment"># Put things that will set up an empty directory into a fully set-up</span></div><div class="line">    <span class="comment"># instance of your project.</span></div><div class="line"></div><div class="line">    invoke <span class="symbol">:<span class="string">'git:clone'</span></span></div><div class="line">    invoke <span class="symbol">:<span class="string">'deploy:link_shared_paths'</span></span></div><div class="line">    <span class="comment"># invoke :'bundle:install'</span></div><div class="line">    <span class="comment"># invoke :'rails:db_migrate'</span></div><div class="line">    <span class="comment"># invoke :'rails:assets_precompile'</span></div><div class="line">    invoke <span class="symbol">:<span class="string">'deploy:cleanup'</span></span></div><div class="line"></div><div class="line">    on <span class="symbol">:launch</span> <span class="keyword">do</span></div><div class="line">      in_path(fetch(<span class="symbol">:current_path</span>)) <span class="keyword">do</span></div><div class="line">        <span class="comment"># command %&#123;mkdir -p tmp/&#125;</span></div><div class="line">        <span class="comment"># command %&#123;touch tmp/restart.txt&#125;</span></div><div class="line">        <span class="comment"># 这里必须有可以执行的代码，否则运行时出错，没有代码要执行可以注释掉整个代码块</span></div><div class="line">      <span class="keyword">end</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  <span class="comment"># you can use `run :local` to run tasks on local machine before of after the deploy scripts</span></div><div class="line">  <span class="comment"># run(:local) &#123; touch 'hello.txt'&#125;</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="comment"># custom task</span></div><div class="line">namespace <span class="symbol">:hexo</span> <span class="keyword">do</span></div><div class="line">  desc <span class="string">"genarte hexo posts"</span></div><div class="line">  task <span class="symbol">:generate</span> <span class="keyword">do</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hexo_generate</span></span></div><div class="line">      puts <span class="string">"Geginning generate posts"</span></div><div class="line">      command <span class="string">%&#123; hexo g &#125;</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">    hexo_generate</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line">  desc <span class="string">"deploy hexo posts"</span></div><div class="line">  task <span class="symbol">:deploy</span> <span class="keyword">do</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hexo_deploy</span></span></div><div class="line">      puts <span class="string">"Deploying posts to git"</span></div><div class="line">      command <span class="string">%&#123; hexo d &#125;</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">    hexo_deploy</div><div class="line">  <span class="keyword">end</span></div><div class="line"></div><div class="line"><span class="keyword">end</span></div><div class="line"><span class="comment"># For help in making your deploy script, see the Mina documentation:</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment">#  - https://github.com/mina-deploy/mina/tree/master/docs</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      mina deploy config
    
    </summary>
    
      <category term="程序开发" scheme="http://www.gagahappy.com/category/development/"/>
    
    
      <category term="Ruby" scheme="http://www.gagahappy.com/tag/ruby/"/>
    
  </entry>
  
  <entry>
    <title>self help</title>
    <link href="http://www.gagahappy.com/self-help/"/>
    <id>http://www.gagahappy.com/self-help/</id>
    <published>2017-07-04T11:03:20.000Z</published>
    <updated>2017-07-04T16:50:41.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>How to stop time: kiss</p>
<p>How to travel in time: read</p>
<p>How to escape time: music</p>
<p>How to feel time: write</p>
<p>How to release time: breathe ​​​​</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      self-help
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="随笔" scheme="http://www.gagahappy.com/tag/journal/"/>
    
  </entry>
  
  <entry>
    <title>小记</title>
    <link href="http://www.gagahappy.com/journal-2017-07-04/"/>
    <id>http://www.gagahappy.com/journal-2017-07-04/</id>
    <published>2017-07-04T03:09:40.000Z</published>
    <updated>2017-07-04T16:51:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>以下几个事</p>
<ul>
<li>7月4日：出的最多的一次汗，瑜伽垫上都不止是湿透了，而是出水了 ​​​​</li>
<li>7月1日：不要认为早上你能想起所有该做的事来，你总会忘记一两件</li>
<li>6月30日：受到土豪一万点暴击</li>
</ul>
]]></content>
    
    <summary type="html">
    
      小记
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="随笔" scheme="http://www.gagahappy.com/tag/journal/"/>
    
  </entry>
  
  <entry>
    <title>Lorde, so beautiful and cute ​​​​</title>
    <link href="http://www.gagahappy.com/lorder-2017-06-30/"/>
    <id>http://www.gagahappy.com/lorder-2017-06-30/</id>
    <published>2017-06-30T10:11:04.000Z</published>
    <updated>2017-07-04T16:39:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://img.gagahappy.com/blog/2017/06/lorde-2017-06-30.jpg_b1" alt="Lorde, so beautiful and cute" title="Lorde, so beautiful and cute"></p>
]]></content>
    
    <summary type="html">
    
      Lorde, so beautiful and cute ​​​​
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="人物" scheme="http://www.gagahappy.com/tag/people/"/>
    
  </entry>
  
  <entry>
    <title>喜欢这张，素颜，珠宝，锁骨，疤痕，真我，舒淇 ​​​​</title>
    <link href="http://www.gagahappy.com/sqwhat-2017-06-30/"/>
    <id>http://www.gagahappy.com/sqwhat-2017-06-30/</id>
    <published>2017-06-30T10:07:20.000Z</published>
    <updated>2017-07-04T16:30:56.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://img.gagahappy.com/blog/2017/06/sqwhat-2017-06-30.jpg_b1" alt="喜欢这张，素颜，珠宝，锁骨，疤痕，真我，舒淇" title="喜欢这张，素颜，珠宝，锁骨，疤痕，真我，舒淇"></p>
]]></content>
    
    <summary type="html">
    
      喜欢这张，素颜，珠宝，锁骨，疤痕，真我，舒淇 ​​​​
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="人物" scheme="http://www.gagahappy.com/tag/people/"/>
    
  </entry>
  
  <entry>
    <title>平板支撑有进步了居然</title>
    <link href="http://www.gagahappy.com/improve-on-plank/"/>
    <id>http://www.gagahappy.com/improve-on-plank/</id>
    <published>2017-06-24T14:35:54.000Z</published>
    <updated>2017-06-27T14:35:08.000Z</updated>
    
    <content type="html"><![CDATA[<p> ​<br><img src="http://img.gagahappy.com/blog/2017/06/improve-on-plank.jpg_b1" alt="平板支撑有进步了居然" title="平板支撑有进步了居然"></p>
]]></content>
    
    <summary type="html">
    
      平板支撑有进步了居然
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="随笔" scheme="http://www.gagahappy.com/tag/journal/"/>
    
  </entry>
  
  <entry>
    <title>洗牙</title>
    <link href="http://www.gagahappy.com/first-teeth-cleaning/"/>
    <id>http://www.gagahappy.com/first-teeth-cleaning/</id>
    <published>2017-06-23T09:29:27.000Z</published>
    <updated>2017-06-27T14:29:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>第一次洗牙，激动，高兴，就像买了新鞋一样。其实早就想洗，一直没去。医生说后槽牙长了一颗智齿，挤到前面的牙，建议拔掉，我一直以为这颗牙要坏了，刷牙时流血，有时候还疼，原来是智齿闹的。也刚知道正常情况下有28颗牙，上下左右各7颗。多出来的叫智齿，长在最后一颗牙的后面，所以最多有32颗牙齿</p>
]]></content>
    
    <summary type="html">
    
      洗牙
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="随笔" scheme="http://www.gagahappy.com/tag/journal/"/>
    
  </entry>
  
  <entry>
    <title>enjoy every moment of this precious life</title>
    <link href="http://www.gagahappy.com/enjoy-every-moment-of-this-precious-life/"/>
    <id>http://www.gagahappy.com/enjoy-every-moment-of-this-precious-life/</id>
    <published>2017-06-18T01:51:55.000Z</published>
    <updated>2017-06-20T07:37:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>You are amazing,<br>Unique &amp; beautiful.<br>There is nothing<br>more you need to be,<br>Do or have in<br>order to be happy.<br>You are perfect<br>just as you are.<br>Yes, really. So smile,<br>Give love &amp; enjoy<br>every moment of<br>this precious life. ​​​</p>
]]></content>
    
    <summary type="html">
    
      enjoy every moment of this precious life
    
    </summary>
    
      <category term="意识流" scheme="http://www.gagahappy.com/category/consciousness/"/>
    
    
      <category term="随笔" scheme="http://www.gagahappy.com/tag/journal/"/>
    
  </entry>
  
  <entry>
    <title>茶香猪手</title>
    <link href="http://www.gagahappy.com/cook-pig-claw/"/>
    <id>http://www.gagahappy.com/cook-pig-claw/</id>
    <published>2017-06-17T11:49:08.000Z</published>
    <updated>2017-06-20T07:37:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>茶香猪手 #做滴菜# ​​</p>
<p><img src="http://img.gagahappy.com/blog/2017/06/
cook-pig-claw.jpg_b1" alt="茶香猪手" title="茶香猪手"></p>
]]></content>
    
    <summary type="html">
    
      茶香猪手
    
    </summary>
    
      <category term="美食么么" scheme="http://www.gagahappy.com/category/food/"/>
    
    
      <category term="做滴菜" scheme="http://www.gagahappy.com/tag/mycook/"/>
    
  </entry>
  
</feed>
