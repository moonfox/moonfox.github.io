<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <meta name="google-site-verification" content="mRjQM6azHRnllmCObIorLO1p8dqt92U33mbEzoA2HnU">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;www.gagahappy.com&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Gemini&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;right&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:false,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;Searching...&quot;,&quot;empty&quot;:&quot;We didn&#39;t find any results for the search: ${query}&quot;,&quot;hits_time&quot;:&quot;${hits} results found in ${time} ms&quot;,&quot;hits&quot;:&quot;${hits} results found&quot;},&quot;path&quot;:&quot;&#x2F;search.xml&quot;,&quot;localsearch&quot;:{&quot;enable&quot;:true,&quot;trigger&quot;:&quot;auto&quot;,&quot;top_n_per_article&quot;:1,&quot;unescape&quot;:false,&quot;preload&quot;:false}}</script><script src="/js/config.js"></script>
<meta name="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
<meta property="og:type" content="website">
<meta property="og:title" content="睡月花儿">
<meta property="og:url" content="https://www.gagahappy.com/page/9/">
<meta property="og:site_name" content="睡月花儿">
<meta property="og:description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
<meta property="og:locale">
<meta property="article:author" content="戛戛Happy">
<meta property="article:tag" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.gagahappy.com/page/9/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-Hans&quot;,&quot;comments&quot;:&quot;&quot;,&quot;permalink&quot;:&quot;&quot;,&quot;path&quot;:&quot;page&#x2F;9&#x2F;index.html&quot;,&quot;title&quot;:&quot;&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>睡月花儿</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-17621945-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{&quot;tracking_id&quot;:&quot;UA-17621945-1&quot;,&quot;only_pageview&quot;:false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/rss2.xml" title="睡月花儿" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">睡月花儿</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">62</span></a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">4</span></a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">455</span></a></li>
        <li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a></li>
        <li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>Commonweal 404</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="戛戛Happy"
      src="/apple-touch-icon.png">
  <p class="site-author-name" itemprop="name">戛戛Happy</p>
  <div class="site-description" itemprop="description">后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby</div>
</div>
  <div class="">

  <div class="">

      <div class="social-item">
        <a target="_blank" class="social-link" href="/rss2.xml">
          <span class="icon">
            <i class="fa fa-rss"></i>
          </span>

          <span class="label">RSS</span>
        </a>
      </div>
  </div>
</div>

  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/segments-for-index-in-innodb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/segments-for-index-in-innodb/" class="post-title-link" itemprop="url">segments for index in innodb</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-12 22:59:54" itemprop="dateCreated datePublished" datetime="2015-04-12T22:59:54+08:00">2015-04-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/database/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Two segments are allocated for each index in InnoDB. One is for nonleaf nodes of the B-tree, the other is for the leaf nodes. Keeping the leaf nodes contiguous on disk enables better sequential I/O operations, because these leaf nodes contain the actual table data.</p>
<p>每个索引拥有2个segment，一个用于非叶结点，另一个用于叶子结点</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/innodb-does-not-guarantee-that-it-uses-free-pages-sequentially/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/innodb-does-not-guarantee-that-it-uses-free-pages-sequentially/" class="post-title-link" itemprop="url">Innodb不保证连续的使用空闲空间保存数据</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-11 23:39:59" itemprop="dateCreated datePublished" datetime="2015-04-11T23:39:59+08:00">2015-04-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/database/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>InnoDB does not guarantee that it uses free pages sequentially, and many optimizations around bulk data loading will cause pages to be used out of order. (More on page splitting and these optimizations)</p>
<p>1、Innodb不保证连续的使用空闲空间保存数据，这么做的原因有(页的分裂和一些优化)<br>2、在为新数据分配extent时，可以看到有种情况发生：一个index后面是多个free page(63个),然后再是一个index.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/btree-not-actually-find-a-record/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/btree-not-actually-find-a-record/" class="post-title-link" itemprop="url">B+树索引本身并不能找到一条记录</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-10 20:32:36" itemprop="dateCreated datePublished" datetime="2015-04-10T20:32:36+08:00">2015-04-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/database/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>B+树索引本身并不能找到一条记录，只能找到记录所在的页。详细见具本章节中的内容，及查看本机数据内容。找到所在页后，把页载入内存，</p>
<p>在内存中对Page Directory进行binary search。依次类推，最终找到记录(通过n_owned)。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/redis-hashring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/redis-hashring/" class="post-title-link" itemprop="url">Redis::HashRing source code</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-09 12:21:25" itemprop="dateCreated datePublished" datetime="2015-04-09T12:21:25+08:00">2015-04-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/development/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby"><span class="token keyword">require</span> <span class="token string">'zlib'</span>

<span class="token keyword">class</span> <span class="token class-name">Redis</span>
  <span class="token keyword">class</span> <span class="token class-name">HashRing</span>

    <span class="token constant">POINTS_PER_SERVER</span> <span class="token operator">=</span> <span class="token number">160</span> <span class="token comment"># this is the default in libmemcached</span>

    attr_reader <span class="token symbol">:ring</span><span class="token punctuation">,</span> <span class="token symbol">:sorted_keys</span><span class="token punctuation">,</span> <span class="token symbol">:replicas</span><span class="token punctuation">,</span> <span class="token symbol">:nodes</span>

    <span class="token comment"># nodes is a list of objects that have a proper to_s representation.</span>
    <span class="token comment"># replicas indicates how many virtual points should be used pr. node,</span>
    <span class="token comment"># replicas are required to improve the distribution.</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">initialize</span></span><span class="token punctuation">(</span>nodes<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> replicas<span class="token operator">=</span><span class="token constant">POINTS_PER_SERVER</span><span class="token punctuation">)</span>
      <span class="token variable">@replicas</span> <span class="token operator">=</span> replicas
      <span class="token variable">@ring</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
      <span class="token variable">@nodes</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token variable">@sorted_keys</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      nodes<span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>node<span class="token operator">|</span>
        add_node<span class="token punctuation">(</span>node<span class="token punctuation">)</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token comment"># Adds a `node` to the hash ring (including a number of replicas).</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">add_node</span></span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
      <span class="token variable">@nodes</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> node
      <span class="token variable">@replicas</span><span class="token punctuation">.</span>times <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
        key <span class="token operator">=</span> <span class="token constant">Zlib</span><span class="token punctuation">.</span>crc32<span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>node<span class="token punctuation">.</span>id<span class="token delimiter tag">&#125;</span></span>:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>i<span class="token delimiter tag">&#125;</span></span>"</span><span class="token punctuation">)</span>
        <span class="token variable">@ring</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> node
        <span class="token variable">@sorted_keys</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> key
      <span class="token keyword">end</span>
      <span class="token variable">@sorted_keys</span><span class="token punctuation">.</span>sort<span class="token operator">!</span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">remove_node</span></span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>
      <span class="token variable">@nodes</span><span class="token punctuation">.</span>reject<span class="token operator">!</span><span class="token punctuation">&#123;</span><span class="token operator">|</span>n<span class="token operator">|</span> n<span class="token punctuation">.</span>id <span class="token operator">==</span> node<span class="token punctuation">.</span>id<span class="token punctuation">&#125;</span>
      <span class="token variable">@replicas</span><span class="token punctuation">.</span>times <span class="token keyword">do</span> <span class="token operator">|</span>i<span class="token operator">|</span>
        key <span class="token operator">=</span> <span class="token constant">Zlib</span><span class="token punctuation">.</span>crc32<span class="token punctuation">(</span><span class="token string">"<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>node<span class="token punctuation">.</span>id<span class="token delimiter tag">&#125;</span></span>:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>i<span class="token delimiter tag">&#125;</span></span>"</span><span class="token punctuation">)</span>
        <span class="token variable">@ring</span><span class="token punctuation">.</span>delete<span class="token punctuation">(</span>key<span class="token punctuation">)</span>
        <span class="token variable">@sorted_keys</span><span class="token punctuation">.</span>reject<span class="token operator">!</span> <span class="token punctuation">&#123;</span><span class="token operator">|</span>k<span class="token operator">|</span> k <span class="token operator">==</span> key<span class="token punctuation">&#125;</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token comment"># get the node in the hash ring for this key</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">get_node</span></span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      get_node_pos<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">get_node_pos</span></span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">nil</span><span class="token punctuation">,</span><span class="token keyword">nil</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token variable">@ring</span><span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span>
      crc <span class="token operator">=</span> <span class="token constant">Zlib</span><span class="token punctuation">.</span>crc32<span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      idx <span class="token operator">=</span> <span class="token constant">HashRing</span><span class="token punctuation">.</span>binary_search<span class="token punctuation">(</span><span class="token variable">@sorted_keys</span><span class="token punctuation">,</span> crc<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">@ring</span><span class="token punctuation">[</span><span class="token variable">@sorted_keys</span><span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> idx<span class="token punctuation">]</span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">iter_nodes</span></span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">nil</span><span class="token punctuation">,</span><span class="token keyword">nil</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token variable">@ring</span><span class="token punctuation">.</span>size <span class="token operator">==</span> <span class="token number">0</span>
      _<span class="token punctuation">,</span> pos <span class="token operator">=</span> get_node_pos<span class="token punctuation">(</span>key<span class="token punctuation">)</span>
      <span class="token variable">@sorted_keys</span><span class="token punctuation">[</span>pos<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">each</span> <span class="token keyword">do</span> <span class="token operator">|</span>k<span class="token operator">|</span>
        <span class="token keyword">yield</span> <span class="token variable">@ring</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">class</span> <span class="token operator">&lt;</span><span class="token operator">&lt;</span> <span class="token keyword">self</span>

      <span class="token comment"># gem install RubyInline to use this code</span>
      <span class="token comment"># Native extension to perform the binary search within the hashring.</span>
      <span class="token comment"># There's a pure ruby version below so this is purely optional</span>
      <span class="token comment"># for performance.  In testing 20k gets and sets, the native</span>
      <span class="token comment"># binary search shaved about 12% off the runtime (9sec -> 8sec).</span>
      <span class="token keyword">begin</span>
        <span class="token keyword">require</span> <span class="token string">'inline'</span>
        inline <span class="token keyword">do</span> <span class="token operator">|</span>builder<span class="token operator">|</span>
          builder<span class="token punctuation">.</span>c <span class="token operator">&lt;</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token constant">EOM</span>
          int binary_search<span class="token punctuation">(</span><span class="token constant">VALUE</span> ary<span class="token punctuation">,</span> unsigned int r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
              int upper <span class="token operator">=</span> <span class="token constant">RARRAY_LEN</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
              int lower <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
              int idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

              <span class="token keyword">while</span> <span class="token punctuation">(</span>lower <span class="token operator">&lt;=</span> upper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                  idx <span class="token operator">=</span> <span class="token punctuation">(</span>lower <span class="token operator">+</span> upper<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

                  <span class="token constant">VALUE</span> continuumValue <span class="token operator">=</span> <span class="token constant">RARRAY_PTR</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span><span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">;</span>
                  unsigned int l <span class="token operator">=</span> <span class="token constant">NUM2UINT</span><span class="token punctuation">(</span>continuumValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                      <span class="token keyword">return</span> idx<span class="token punctuation">;</span>
                  <span class="token punctuation">&#125;</span>
                  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                      upper <span class="token operator">=</span> idx <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                  <span class="token punctuation">&#125;</span>
                  <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                      lower <span class="token operator">=</span> idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                  <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>upper <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                upper <span class="token operator">=</span> <span class="token constant">RARRAY_LEN</span><span class="token punctuation">(</span>ary<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
              <span class="token punctuation">&#125;</span>
              <span class="token keyword">return</span> upper<span class="token punctuation">;</span>
          <span class="token punctuation">&#125;</span>
          <span class="token constant">EOM</span>
        <span class="token keyword">end</span>
      <span class="token keyword">rescue</span> <span class="token builtin">Exception</span>
        <span class="token comment"># Find the closest index in HashRing with value &lt;= the given value</span>
        <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">binary_search</span></span><span class="token punctuation">(</span>ary<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token operator">&amp;</span>block<span class="token punctuation">)</span>
          upper <span class="token operator">=</span> ary<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span>
          lower <span class="token operator">=</span> <span class="token number">0</span>
          idx <span class="token operator">=</span> <span class="token number">0</span>

          <span class="token keyword">while</span><span class="token punctuation">(</span>lower <span class="token operator">&lt;=</span> upper<span class="token punctuation">)</span> <span class="token keyword">do</span>
            idx <span class="token operator">=</span> <span class="token punctuation">(</span>lower <span class="token operator">+</span> upper<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span>
            comp <span class="token operator">=</span> ary<span class="token punctuation">[</span>idx<span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token operator">></span> value

            <span class="token keyword">if</span> comp <span class="token operator">==</span> <span class="token number">0</span>
              <span class="token keyword">return</span> idx
            <span class="token keyword">elsif</span> comp <span class="token operator">></span> <span class="token number">0</span>
              upper <span class="token operator">=</span> idx <span class="token operator">-</span> <span class="token number">1</span>
            <span class="token keyword">else</span>
              lower <span class="token operator">=</span> idx <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token keyword">end</span>
          <span class="token keyword">end</span>

          <span class="token keyword">if</span> upper <span class="token operator">&lt;</span> <span class="token number">0</span>
            upper <span class="token operator">=</span> ary<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span>
          <span class="token keyword">end</span>
          <span class="token keyword">return</span> upper
        <span class="token keyword">end</span>

      <span class="token keyword">end</span>
    <span class="token keyword">end</span>

  <span class="token keyword">end</span>
<span class="token keyword">end</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/mac-use-lsof-to-show-which-process-use-the-port/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/mac-use-lsof-to-show-which-process-use-the-port/" class="post-title-link" itemprop="url">mac 查看端口占用程序</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-08 17:39:26" itemprop="dateCreated datePublished" datetime="2015-04-08T17:39:26+08:00">2015-04-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/development/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>mac 查看端口占用程序<br>lsof -i :9001</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/how-to-understanding-something-that-is-complex-and-poorly-documented/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/how-to-understanding-something-that-is-complex-and-poorly-documented/" class="post-title-link" itemprop="url">how to understanding something</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-07 20:27:04" itemprop="dateCreated datePublished" datetime="2015-04-07T20:27:04+08:00">2015-04-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/database/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>An approach I’ve long taken to understanding something that is complex and poorly documented is the following three steps:</p>
<ol>
<li><p>Read the existing documentation and the existing code, until a basic understanding is reached. Often there are serious misunderstandings or incorrect factorization at this step.</p>
</li>
<li><p>Write my own implementation, even a very basic and broken one, preferably in a completely different language (which avoids the tendency to cut and paste anything). Revise my understanding based on what works and what doesn’t.</p>
</li>
<li><p>Create new documentation and diagrams based on my new understanding. Refactor my implementation as necessary (the act of reviewing everything in order to document it often reveals incorrect factorizations). Correct documentation based on new understanding from refactoring code. Repeat until correct.</p>
</li>
</ol>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/how-to-use-eval-args-filename-and-lineno/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/how-to-use-eval-args-filename-and-lineno/" class="post-title-link" itemprop="url">测试eval的filename,与lineno参数使用</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-05 23:22:09" itemprop="dateCreated datePublished" datetime="2015-04-05T23:22:09+08:00">2015-04-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/development/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby"><span class="token comment"># =============================</span>
<span class="token comment"># 目标1:</span>
<span class="token comment"># 1、测试eval的filename,与lineno参数使用</span>
<span class="token comment"># =============================</span>
<span class="token comment"># 结论</span>
<span class="token comment"># 1、可以自定义程序出错时的出错信息（出错的文件名，程序在哪行执行的,方便出错日志的查询,错误的定位)</span>
<span class="token comment"># =============================</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">my_method</span></span>
    string <span class="token operator">=</span> <span class="token string">"1/0"</span>
    <span class="token comment"># eval(string, nil, __FILE__, __LINE__)</span>
    eval<span class="token punctuation">(</span>string<span class="token punctuation">,</span> <span class="token keyword">nil</span><span class="token punctuation">,</span> <span class="token string">"custom_file.rb"</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
    <span class="token comment"># eval(string)</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token constant">MyClass</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">.</span>my_method <span class="token comment"># custom_file.rb:60:in `/': divided by 0 (ZeroDivisionError)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/load-secondary-args-true-or-false/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/load-secondary-args-true-or-false/" class="post-title-link" itemprop="url">load文件参数为false或true时,对变量,实例变量,常量的影响</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-04 22:06:30" itemprop="dateCreated datePublished" datetime="2015-04-04T22:06:30+08:00">2015-04-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/development/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby"><span class="token comment"># =============================</span>
<span class="token comment"># 目标1:</span>
<span class="token comment"># 1、load文件参数为false时，对变量，实例变量,常量的影响</span>
<span class="token comment"># 2、load文件参数为false时，类是否被重新打开</span>
<span class="token comment"># =============================</span>
<span class="token comment"># 结论</span>
<span class="token comment"># 1、变量不会被加载的文件影响，实例变量和常量会被影响。因为被加载文件中的变量会在文件加载完成后，掉出加载文件的作用域</span>
<span class="token comment">#    而实例变量和常量不会掉出作用域</span>
<span class="token comment"># 2、类可以被重新打开，因为被加载文件中类也没有掉出作用域（因为类也是常量）</span>
<span class="token comment"># =============================</span>
lambda <span class="token punctuation">&#123;</span>
  var  <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token variable">@var</span> <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token constant">VAR</span>  <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token keyword">class</span> <span class="token class-name">MyClass</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">my_method</span></span>
      <span class="token string">"i'm in load_2 file"</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  puts <span class="token string">"==========Test1:OUTPUT=========="</span>

  load <span class="token builtin">File</span><span class="token punctuation">.</span>expand_path<span class="token punctuation">(</span><span class="token string">'load_file.rb'</span><span class="token punctuation">,</span> <span class="token builtin">File</span><span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__FILE__<span class="token punctuation">)</span><span class="token punctuation">)</span>

  puts <span class="token string">'==========load_2.rb======='</span>
  puts <span class="token string">"var :<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>var <span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">"@var:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@var</span><span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">"VAR :<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token constant">VAR</span> <span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">"my_method:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token constant">MyClass</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">.</span>my_method<span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">'==========load_2.rb======='</span>
  puts <span class="token string">"==========Test1:OUTPUT=========="</span>
  <span class="token comment"># &lt;!-- more --></span>
  <span class="token comment"># ==========Test1:OUTPUT==========</span>
  <span class="token comment"># ==========load_1.rb=======</span>
  <span class="token comment"># var :1</span>
  <span class="token comment"># @var:1</span>
  <span class="token comment"># VAR :1</span>
  <span class="token comment"># my_method:i'm in load_1 file</span>
  <span class="token comment"># ==========load_1.rb=======</span>

  <span class="token comment"># ==========load_2.rb=======</span>
  <span class="token comment"># var :2</span>
  <span class="token comment"># @var:1</span>
  <span class="token comment"># VAR :1</span>
  <span class="token comment"># my_method:i'm in load_1 file</span>
  <span class="token comment"># ==========load_2.rb=======</span>
  <span class="token comment"># ==========Test1:OUTPUT==========</span>

<span class="token punctuation">&#125;</span>

<span class="token comment"># =============================</span>
<span class="token comment"># 目标2:</span>
<span class="token comment"># 1、load文件参数为true时，对变量，实例变量,常量的影响</span>
<span class="token comment"># 2、load文件参数为true时，类是否被重新打开</span>
<span class="token comment"># =============================</span>
<span class="token comment"># 结论</span>
<span class="token comment"># 1、变量不会被加载的文件影响，实例变量和常量也不会被影响</span>
<span class="token comment"># 2、类不会被影响</span>
<span class="token comment"># 因为ruby会在load文件时为其创建匿名模块，让其文件中的实例变量、常量、类落在其自身范围内，且在load完成后，销毁这个</span>
<span class="token comment"># 匿名模块（即加载文件中的所有内容），加入true参数的这种做法无法让加载它的文件使用其文件中代码，仅仅是起到了运行load</span>
<span class="token comment"># 文件的代码的作用</span>
<span class="token comment"># =============================</span>
lambda <span class="token punctuation">&#123;</span>
  var  <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token variable">@var</span> <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token constant">VAR</span>  <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token keyword">class</span> <span class="token class-name">MyClass</span>
    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">my_method</span></span>
      <span class="token string">"i'm in load_2 file"</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  puts <span class="token string">"==========Test2:OUTPUT=========="</span>

  load <span class="token builtin">File</span><span class="token punctuation">.</span>expand_path<span class="token punctuation">(</span><span class="token string">'load_file.rb'</span><span class="token punctuation">,</span> <span class="token builtin">File</span><span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>__FILE__<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span>

  puts <span class="token string">'==========load_2.rb======='</span>
  puts <span class="token string">"var :<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>var <span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">"@var:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@var</span><span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">"VAR :<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token constant">VAR</span> <span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">"my_method:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token constant">MyClass</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">.</span>my_method<span class="token delimiter tag">&#125;</span></span>"</span>
  puts <span class="token string">'==========load_2.rb======='</span>
  puts <span class="token string">"==========Test2:OUTPUT=========="</span>

  <span class="token comment"># ==========Test2:OUTPUT==========</span>
  <span class="token comment"># ==========load_1.rb=======</span>
  <span class="token comment"># var :1</span>
  <span class="token comment"># @var:1</span>
  <span class="token comment"># VAR :1</span>
  <span class="token comment"># my_method:i'm in load_1 file</span>
  <span class="token comment"># ==========load_1.rb=======</span>

  <span class="token comment"># ==========load_2.rb=======</span>
  <span class="token comment"># var :2</span>
  <span class="token comment"># @var:2</span>
  <span class="token comment"># VAR :2</span>
  <span class="token comment"># my_method:i'm in load_2 file</span>
  <span class="token comment"># ==========load_2.rb=======</span>
  <span class="token comment"># ==========Test2:OUTPUT==========</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">.</span>call<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>load_file.rb</p>
<pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby"><span class="token comment"># module Load1</span>

var <span class="token operator">=</span> <span class="token number">1</span>
<span class="token variable">@var</span> <span class="token operator">=</span> <span class="token number">1</span>
<span class="token constant">VAR</span> <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">class</span> <span class="token class-name">MyClass</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">my_method</span></span>
    <span class="token string">"i'm in load_1 file"</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

puts <span class="token string">'==========load_1.rb======='</span>
puts <span class="token string">"var :<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>var <span class="token delimiter tag">&#125;</span></span>"</span>
puts <span class="token string">"@var:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@var</span><span class="token delimiter tag">&#125;</span></span>"</span>
puts <span class="token string">"VAR :<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token constant">VAR</span> <span class="token delimiter tag">&#125;</span></span>"</span>
puts <span class="token string">"my_method:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token constant">MyClass</span><span class="token punctuation">.</span><span class="token keyword">new</span><span class="token punctuation">.</span>my_method<span class="token delimiter tag">&#125;</span></span>"</span>
puts <span class="token string">'==========load_1.rb======='</span>
puts

<span class="token comment"># end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/instance-variate-in-toplevel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/instance-variate-in-toplevel/" class="post-title-link" itemprop="url">测试顶级上下文中定义的实例变量的作用域</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-04-03 21:02:35" itemprop="dateCreated datePublished" datetime="2015-04-03T21:02:35+08:00">2015-04-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/development/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby"><span class="token comment"># =============================</span>
<span class="token comment"># 目标1:</span>
<span class="token comment"># 1、测试顶级上下文中定义的实例变量的作用域</span>
<span class="token comment"># =============================</span>
<span class="token comment"># 结论</span>
<span class="token comment"># 1、顶级上下文中定义的实例变量只能被main对象访问，因为实例变量暴露在toplevel的context中，self为main</span>
<span class="token comment">#    相当于运行main.instance_eval&#123;@toplevel_variate="toplevel variate"&#125;</span>
<span class="token comment"># 2、私有方法不属于instance_methods的集合，它属于private_instance_methods</span>
<span class="token comment"># =============================</span>

<span class="token variable">@toplevel_variate</span> <span class="token operator">=</span> <span class="token string">"toplevel variate"</span>

<span class="token keyword">def</span> <span class="token method-definition"><span class="token function">my_method</span></span>
  <span class="token string">"@toplevel_variate in my_method which define in toplevel:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@toplevel_variate</span><span class="token delimiter tag">&#125;</span></span>"</span>
<span class="token keyword">end</span>

<span class="token builtin">Object</span><span class="token punctuation">.</span>class_eval <span class="token keyword">do</span> <span class="token operator">|</span>variable<span class="token operator">|</span>
  puts <span class="token string">"Object can acccess @toplevel_variate:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@var</span><span class="token delimiter tag">&#125;</span></span>"</span> <span class="token comment"># nil</span>
<span class="token keyword">end</span>

<span class="token keyword">self</span><span class="token punctuation">.</span>instance_eval <span class="token keyword">do</span>
  puts <span class="token string">"@toplevel_variate in self object:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@toplevel_variate</span><span class="token delimiter tag">&#125;</span></span>"</span> <span class="token comment"># toplevel variate</span>
<span class="token keyword">end</span>

puts my_method
puts <span class="token string">"Object.private_instance_methods:"</span> <span class="token operator">+</span> <span class="token builtin">Object</span><span class="token punctuation">.</span>private_instance_methods<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span>grep<span class="token punctuation">(</span><span class="token symbol">:my_method</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_s <span class="token comment"># :my_method</span>
puts <span class="token string">"Object.instance_methods:"</span> <span class="token operator">+</span> <span class="token builtin">Object</span><span class="token punctuation">.</span>instance_methods<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span>grep<span class="token punctuation">(</span><span class="token symbol">:my_method</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_s <span class="token comment">#nil</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gagahappy.com/extend-class-method-by-module/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/apple-touch-icon.png">
      <meta itemprop="name" content="戛戛Happy">
      <meta itemprop="description" content="后端, 操作系统, 互联网, 程序开发, Linux, 数据库, MySql, Golang, Ruby">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="睡月花儿">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/extend-class-method-by-module/" class="post-title-link" itemprop="url">使用include,让模块中定义的方法分别插入类方法与实例方法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-03-31 23:55:43" itemprop="dateCreated datePublished" datetime="2015-03-31T23:55:43+08:00">2015-03-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/development/" itemprop="url" rel="index"><span itemprop="name">后端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby">
<span class="token comment"># =============================</span>
<span class="token comment"># 目标1:</span>
<span class="token comment"># 1、类扩展:使用include,让模块中定义的方法分别插入类方法与实例方法中</span>
<span class="token comment"># 2、obj实例对象调用extend,则模块中定义的方法为？</span>
<span class="token comment"># 3、在模块中定义的实例变量能否被包含它的类的实例对象看到</span>
<span class="token comment"># =============================</span>
<span class="token comment"># 结论</span>
<span class="token comment"># 1、通过重定义横块中的self.included方法，并对参数(receiver),使用关键字extend/include,分别向包含它的类中插入了</span>
<span class="token comment">#    类方法(定义在ClassMethods模块中的方法)和实例方法(定义在InstanceMethod模块中)</span>
<span class="token comment"># 2、obj实例对象调用extend,则模块中定义的方法为这个obj的单例方法，可以通过把方法定义在module中，让实例对象调用extend</span>
<span class="token comment">#    来方便快速的增加自身的单例方法</span>
<span class="token comment"># 3、可以。在模块中定义的实例变量可以被包含它的类的实例对象看到,因为被include的模块相当于当前类的父类，当前对象的</span>
<span class="token comment">#    实例变量对其所有实例方法可见</span>
<span class="token comment"># 4、extend方法的实质就是把module中定义的方法插入到对象的单件类中</span>
<span class="token comment"># 5、调用MyClass.instance_methods(false)可以发现，在它的实例方法中并不包含实例方法instance_method，而MyClass</span>
<span class="token comment">#    的实例对象可以调用这个方法，这正说明了类中include的模块(被代理类封装)充当这个类的父类。也验证了结论4</span>
<span class="token comment"># =============================</span>
lambda <span class="token punctuation">&#123;</span>
  <span class="token keyword">module</span> <span class="token constant">M</span>
    <span class="token keyword">module</span> <span class="token constant">ClassMethods</span>
      <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">class_method</span></span>
        <span class="token string">"i am a class method"</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">module</span> <span class="token constant">InstanceMethods</span>
      <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">instance_method</span></span><span class="token punctuation">(</span>from<span class="token punctuation">)</span>
        <span class="token variable">@instance_variate</span> <span class="token operator">=</span> <span class="token string">"i am a instance variate in M"</span>
        <span class="token string">"i am a instance method from:<span class="token interpolation"><span class="token delimiter tag">#&#123;</span>from<span class="token delimiter tag">&#125;</span></span>"</span>
      <span class="token keyword">end</span>
    <span class="token keyword">end</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">included</span></span><span class="token punctuation">(</span>receiver<span class="token punctuation">)</span>
      receiver<span class="token punctuation">.</span><span class="token keyword">extend</span>         <span class="token constant">ClassMethods</span>
      receiver<span class="token punctuation">.</span>send <span class="token symbol">:include</span><span class="token punctuation">,</span> <span class="token constant">InstanceMethods</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  <span class="token comment">#&lt;!-- more --></span>
  <span class="token keyword">class</span> <span class="token class-name">MyClass</span>
    <span class="token keyword">include</span> <span class="token constant">M</span>

    <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">get_instance_variate_from_module</span></span><span class="token punctuation">(</span>from<span class="token punctuation">)</span>
      <span class="token string">"<span class="token interpolation"><span class="token delimiter tag">#&#123;</span><span class="token variable">@instance_variate</span><span class="token delimiter tag">&#125;</span></span> from: <span class="token interpolation"><span class="token delimiter tag">#&#123;</span>from<span class="token delimiter tag">&#125;</span></span>"</span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

  obj <span class="token operator">=</span> <span class="token builtin">Object</span><span class="token punctuation">.</span><span class="token keyword">new</span>
  obj<span class="token punctuation">.</span><span class="token keyword">extend</span> <span class="token constant">M</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">InstanceMethods</span>
  my <span class="token operator">=</span> <span class="token constant">MyClass</span><span class="token punctuation">.</span><span class="token keyword">new</span>

  puts <span class="token string">"================test1 OUTPUT================"</span>
  puts <span class="token constant">MyClass</span><span class="token punctuation">.</span>class_method
  puts my<span class="token punctuation">.</span>instance_method<span class="token punctuation">(</span><span class="token string">"MyClass.new obj"</span><span class="token punctuation">)</span>
  puts my<span class="token punctuation">.</span>get_instance_variate_from_module<span class="token punctuation">(</span><span class="token string">"MyClass.new"</span><span class="token punctuation">)</span>
  puts obj<span class="token punctuation">.</span>instance_method<span class="token punctuation">(</span><span class="token string">"Object.new"</span><span class="token punctuation">)</span>
  puts obj<span class="token punctuation">.</span>instance_eval<span class="token punctuation">(</span><span class="token string">"@instance_variate"</span><span class="token punctuation">)</span>
  puts <span class="token string">"MyClass.instance_methods:"</span><span class="token operator">+</span><span class="token constant">MyClass</span><span class="token punctuation">.</span>instance_methods<span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_s
  puts <span class="token string">"================test1 OUTPUT================"</span>

  <span class="token comment"># ================test1 OUTPUT================</span>
  <span class="token comment"># i am a class method</span>
  <span class="token comment"># i am a instance method from:MyClass.new obj</span>
  <span class="token comment"># i am a instance variate in M from: MyClass.new</span>
  <span class="token comment"># i am a instance method from:Object.new</span>
  <span class="token comment"># i am a instance variate in M</span>
  <span class="token comment"># MyClass.instance_methods:[:get_instance_variate_from_module]</span>
  <span class="token comment"># ================test1 OUTPUT================</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">.</span>call<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/">46</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备10044755号 </a>
  </div>

<div class="copyright">
  &copy; 2009 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">戛戛Happy</span>
  <span class="with-love">
    <i class="fa fa-chart-bar"></i>
  </span>
  <span itemprop="cnzz"><script type="text/javascript" src="//s4.cnzz.com/z_stat.php?id=2325808&web_id=2325808"></script></span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>






  




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{&quot;enable&quot;:true,&quot;github_id&quot;:&quot;moonfox&quot;,&quot;repo&quot;:&quot;gitalk&quot;,&quot;client_id&quot;:&quot;2a9c7ba27dd4a9376f8c&quot;,&quot;client_secret&quot;:&quot;cb4fa8779f853f735779a518c57e894a8ee30b09&quot;,&quot;admin_user&quot;:&quot;moonfox&quot;,&quot;distraction_free_mode&quot;:false,&quot;proxy&quot;:&quot;https:&#x2F;&#x2F;cors-anywhere.azm.workers.dev&#x2F;https:&#x2F;&#x2F;github.com&#x2F;login&#x2F;oauth&#x2F;access_token&quot;,&quot;language&quot;:null,&quot;js&quot;:{&quot;url&quot;:&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;gitalk@1.7.2&#x2F;dist&#x2F;gitalk.min.js&quot;,&quot;integrity&quot;:&quot;sha256-Pmj85ojLaPOWwRtlMJwmezB&#x2F;Qg8BzvJp5eTzvXaYAfA&#x3D;&quot;},&quot;path_md5&quot;:&quot;page&#x2F;9&#x2F;index.html&quot;}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
